#pragma once
#include "packet.h"
#include "NetStream.h"

class Client : public CNetworkStream
{
public:
	Client();
	virtual ~Client();
	void Process();
private:
	uint32_t GetPacketSize(uint8_t header);
	bool DispatchPacket(uint8_t header);
private:
	bool __RecvPhase();
	bool __RecvHandshake();
	bool __RecvPing();
	bool __RecvMarkIndex();
	bool __RecvMarkBlock();
	bool __RecvSymbolData();
private:
	bool __SendMarkIDXList();
private:
	std::vector<uint32_t> m_vecGuildIDX;
};

